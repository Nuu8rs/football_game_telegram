from enum import Enum

from aiogram import Bot
from loader import bot

from database.models.character import Character

from logging_config import logger

class TextTypes(str, Enum):
    NO_ENERGY = """
‚ùó <b>–ï–Ω–µ—Ä–≥—ñ—è –Ω–∞ –Ω—É–ª—ñ!</b>  

üîã –í–∞—à —Ä—ñ–≤–µ–Ω—å –µ–Ω–µ—Ä–≥—ñ—ó –ø–æ–≤–Ω—ñ—Å—Ç—é –≤–∏—á–µ—Ä–ø–∞–Ω–æ, —ñ –≤–∏ –Ω–µ –∑–º–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –≥—Ä—É –±–µ–∑ –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è.  

‚úÖ <i>–ù–µ –∑—É–ø–∏–Ω—è–π—Ç–µ—Å—å ‚Äî –ø–æ–Ω–æ–≤—ñ—Ç—å –µ–Ω–µ—Ä–≥—ñ—é, —â–æ–± –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –≥—Ä–∏!</i>  
‚úÖ <i>–¢–µ–ø–µ—Ä —Å–∞–º–µ —á–∞—Å –ø–æ–ø–æ–≤–Ω–∏—Ç–∏ –∑–∞–ø–∞—Å —ñ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –ø–æ–ª–µ –∑ –Ω–æ–≤–∏–º–∏ —Å–∏–ª–∞–º–∏!</i>  

‚ö°Ô∏è <b>–ù–µ —á–µ–∫–∞–π—Ç–µ!</b>  
–ü–æ–ø–æ–≤–Ω—ñ—Ç—å –µ–Ω–µ—Ä–≥—ñ—é –∑–∞—Ä–∞–∑ —ñ –ø—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ –±–æ—Ä–æ—Ç–∏—Å—è –∑–∞ –ø–µ—Ä–µ–º–æ–≥—É! 
"""

    LOW_ENERGY = """
‚ö†Ô∏è <b>–ï–Ω–µ—Ä–≥—ñ—è –º–∞–π–∂–µ –Ω–∞ –Ω—É–ª—ñ!</b>  

üîã –í–∞—à —Ä—ñ–≤–µ–Ω—å –µ–Ω–µ—Ä–≥—ñ—ó –≤–ø–∞–≤ –Ω–∏–∂—á–µ –∫—Ä–∏—Ç–∏—á–Ω–æ—ó –ø–æ–∑–Ω–∞—á–∫–∏, —ñ —Ü–µ –º–æ–∂–µ –≤–ø–ª–∏–Ω—É—Ç–∏ –Ω–∞ –≤–∞—à –ø—Ä–æ–≥—Ä–µ—Å —É –≥—Ä—ñ. –ù–µ –¥–∞–π—Ç–µ —Ü—å–æ–º—É –∑—É–ø–∏–Ω–∏—Ç–∏ –≤–∞—Å!  

‚úÖ <i>–ë–µ–∑ –ø–µ—Ä–µ—Ä–≤–∏ –Ω–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è ‚Äî –≥—Ä–∞–π—Ç–µ –±–µ–∑ –∑—É–ø–∏–Ω–æ–∫!</i>  
‚úÖ <i>–ó–∞–±–µ–∑–ø–µ—á—Ç–µ —Å–æ–±—ñ –ø–µ—Ä–µ–≤–∞–≥—É –Ω–∞–¥ —Å—É–ø–µ—Ä–Ω–∏–∫–∞–º–∏!</i>  

‚ö°Ô∏è <b>–ù–µ –∑—É–ø–∏–Ω—è–π—Ç–µ—Å—å!</b>  
–ü–æ–ø–æ–≤–Ω—ñ—Ç—å –µ–Ω–µ—Ä–≥—ñ—é –ø—Ä—è–º–æ –∑–∞—Ä–∞–∑, —â–æ–± –∑–∞–ª–∏—à–∞—Ç–∏—Å—è –≤ –≥—Ä—ñ —Ç–∞ –¥–æ—Å—è–≥–∞—Ç–∏ –Ω–æ–≤–∏—Ö –≤–∏—Å–æ—Ç!  
"""


class SendMessageNoEnergy:
    _bot: Bot = bot
        
    
    @classmethod
    async def send_message_energy(
        cls,
        character: Character,
        type_text: TextTypes
    ):
        try:
            await cls._bot.send_message(
                chat_id=character.characters_user_id,
                text=type_text
            )
        except Exception as E:
            logger.error(f"Failed to send message to {character.name}\nError: {E}")
    

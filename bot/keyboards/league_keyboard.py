from aiogram.utils.keyboard import InlineKeyboardBuilder, ReplyKeyboardBuilder
from constants_leagues import GetConfig, TypeLeague

from .utils_keyboard import menu_plosha

from ..callbacks.league_callbacks import (
    JoinToFight, 
    ViewCharacterRegisteredInMatch,
    EpizodeDonateEnergyToMatch
)

def menu_best_league(keyboard: ReplyKeyboardBuilder):
    config = GetConfig.get_config(
        type_league=TypeLeague.BEST_LEAGUE
    )
    if config.league_is_active:
        keyboard.button(text = "üèÜ –Ñ–≤—Ä–æ–∫—É–±–∫–∏")
    

def menu_best_20_club(keyboard: ReplyKeyboardBuilder):
    config = GetConfig.get_config(
        type_league=TypeLeague.TOP_20_CLUB_LEAGUE
    )
    if config.league_is_active:
        keyboard.button(text = "üèÜ –ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –ö—É–±–æ–∫ –£–∫—Ä–∞—ó–Ω–∏")
    

def menu_new_club(keyboard: ReplyKeyboardBuilder):
    config = GetConfig.get_config(
        type_league=TypeLeague.NEW_CLUB_LEAGUE
    )
    if config.league_is_active:
        keyboard.button(text = "üèÜ –õ—ñ–≥–∞ –Ω–æ–≤–∏—Ö –∫–ª—É–±—ñ–≤") 

def menu_default_league(keyboard: ReplyKeyboardBuilder):
    default_config = GetConfig.get_config(
        type_league=TypeLeague.DEFAULT_LEAGUE
    )
    if default_config.league_is_active:
        keyboard.button(text = "üèü –°—Ç–∞–¥—ñ–æ–Ω - –õ—ñ–≥–∞")


def keyboard_menu_league():
    keyboard = ReplyKeyboardBuilder()
    menu_default_league(keyboard)
    menu_best_league(keyboard)
    menu_best_20_club(keyboard)
    menu_new_club(keyboard)
    keyboard.attach(menu_plosha())
    return keyboard.adjust(1).as_markup()
    
def keyboard_to_join_character_to_fight(match_id: int):
    return (
        InlineKeyboardBuilder()
        .button(text = "‚öΩÔ∏è –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –º–∞—Ç—á—É!", callback_data=JoinToFight(
            match_id=match_id
        ))
        
        .button(text = "‚ùî –•—Ç–æ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞–≤—Å—è –Ω–∞ –º–∞—Ç—á",
                callback_data=ViewCharacterRegisteredInMatch(match_id=match_id))
        .adjust(1)
        .as_markup()
    )
    
def donate_energy_to_match(match_id: str, time_end_goal: int):
    return (
        InlineKeyboardBuilder()
        .button(
            text = "üî± –ü—ñ–¥–≤–∏—â–∏—Ç–∏ —à–∞–Ω—Å –≥–æ–ª—É",
            callback_data = EpizodeDonateEnergyToMatch(
                match_id      = match_id,
                time_end_goal = time_end_goal
            )
        )
        .as_markup()
    )

    
def menu_league_zone():
    return(ReplyKeyboardBuilder()
           .button(text = "üìù –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –≤ –º–∞—Ç—á")
           .button(text = "üìã –¢–∞–±–ª–∏—Ü—è")
        #    .button(text = "üîã –ó–∞–¥–æ–Ω–∞—Ç–∏—Ç–∏ –≤ –º–∞—Ç—á")
           .button(text = "üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä —ñ–≥–æ—Ä")
           .button(text = "üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏")
           .attach(menu_plosha())
           .adjust(1,2,2,1)
           .as_markup(resize_keyboard = True)
           )
    
def menu_beast_league_zone():
    return(ReplyKeyboardBuilder()
           .button(text = "üìù –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –≤ –º–∞—Ç—á –Ñ–≤—Ä–æ–∫—É–±–∫—ñ–≤")
           .button(text = "üìã –¢–∞–±–ª–∏—Ü—è –Ñ–≤—Ä–æ–∫—É–±–∫—ñ–≤")
        #    .button(text = "üîã –ó–∞–¥–æ–Ω–∞—Ç–∏—Ç–∏ –≤ –º–∞—Ç—á")
           .button(text = "üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä –Ñ–≤—Ä–æ–∫—É–±–∫—ñ–≤")
           .button(text = "üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –Ñ–≤—Ä–æ–∫—É–±–∫—ñ–≤")
           .attach(menu_plosha())
           .adjust(1,1,1,2,1)
           .as_markup(resize_keyboard = True)
           )
    
def menu_national_cup_ukraine():
    return(ReplyKeyboardBuilder()
           .button(text = "üìù –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –≤ –º–∞—Ç—á –ö—É–±–∫–∞ –£–∫—Ä–∞—ó–Ω–∏")
           .button(text = "üìã –¢–∞–±–ª–∏—Ü—è –ö—É–±–∫–∞ –£–∫—Ä–∞—ó–Ω–∏")
        #    .button(text = "üîã –ó–∞–¥–æ–Ω–∞—Ç–∏—Ç–∏ –≤ –º–∞—Ç—á –ö—É–±–∫–∞ –£–∫—Ä–∞—ó–Ω–∏")
           .button(text = "üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä –ö—É–±–∫–∞ –£–∫—Ä–∞—ó–Ω–∏")
           .button(text = "üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ö—É–±–∫–∞ –£–∫—Ä–∞—ó–Ω–∏")
           .attach(menu_plosha())
           .adjust(1,1,1,2,1)
           .as_markup(resize_keyboard = True)
           )
    

def menu_new_club_league():
    return(ReplyKeyboardBuilder()
           .button(text = "üìù –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –≤ –º–∞—Ç—á –ù–æ–≤–∏—Ö –∫–ª—É–±—ñ–≤")
           .button(text = "üìã –¢–∞–±–ª–∏—Ü—è –ù–æ–≤–∏—Ö –∫–ª—É–±—ñ–≤")
        #    .button(text = "üîã –ó–∞–¥–æ–Ω–∞—Ç–∏—Ç–∏ –≤ –º–∞—Ç—á –ù–æ–≤–∏—Ö –∫–ª—É–±—ñ–≤")
           .button(text = "üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä –ù–æ–≤–∏—Ö –∫–ª—É–±—ñ–≤")
           .button(text = "üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ù–æ–≤–∏—Ö –∫–ª—É–±—ñ–≤")
           .attach(menu_plosha())
           .adjust(1,1,1,2,1)
           .as_markup(resize_keyboard = True)
           )